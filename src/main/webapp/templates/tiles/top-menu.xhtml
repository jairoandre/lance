<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:body>
  <h:form id="menuForm">
    <!--<p:growl id="messages" showDetail="true" showSummary="true"
             autoUpdate="true" globalOnly="true"/>-->
    <p:menubar rendered="#{request.getUserPrincipal() != null}" toggleEvent="click">
      <p:menuitem ajax="false" action="/pages/index.xhtml?faces-redirect=true" onclick="PF('changePage').show()">
        <h:graphicImage library="img" name="favicon.png" height="15"/>
      </p:menuitem>
      <p:menuitem value="Usuários"
                  action="/admin/user/list.xhtml?faces-redirect=true" ajax="false"
                  icon="fa fa-user" rendered="#{sessionCtrl.isUserInRoles('ADMINISTRATOR')}" onclick="PF('changePage').show()"/>
      <p:submenu label="Cadastro" icon="fa fa-file">
        <p:menuitem value="Serviços"
                    icon="fa fa-tag"
                    ajax="false"
                    action="/pages/servico/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
        <p:menuitem value="Setores"
                    icon="fa fa-sitemap"
                    ajax="false"
                    action="/pages/setor/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
        <p:menuitem value="Medidores"
                    ajax="false"
                    icon="fa fa-dashboard"
                    action="/pages/medidorConsumo/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
        <p:menuitem value="Clientes"
                    ajax="false"
                    icon="fa fa-group"
                    action="/pages/fornecedor/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
        <p:menuitem value="Contratos"
                    icon="fa fa-file-text"
                    ajax="false"
                    action="/pages/contrato/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
      </p:submenu>
      <p:submenu label="Lançamentos" icon="fa fa-flag">
        <p:menuitem value="Todos"
                    icon="fa fa-send"
                    ajax="false"
                    action="/pages/lancamento/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
        <p:menuitem value="Validar Condomínio"
                    icon="fa fa-hospital-o"
                    ajax="false"
                    rendered="#{sessionCtrl.isUserInRoles('ADMINISTRATOR,SUPERVISOR')}"
                    action="/pages/lancamento/validarCondominial.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
      </p:submenu>
      <p:submenu label="Relatórios" icon="fa fa-bar-chart">
        <p:menuitem value="Consolidado Cond."
                    icon="fa fa-building"
                    ajax="false"
                    action="/pages/relatorios/balancoContabil.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
        <p:menuitem value="Setores Vinculados"
                    icon="fa fa-th-list"
                    ajax="false"
                    action="/pages/relatorios/setorRelatorio.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
      </p:submenu>
      <p:menuitem value="Contas a receber"
                  icon="fa fa-briefcase"
                  ajax="false"
                  action="/pages/contaReceber/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
      <p:menuitem value="Financeiro"
                  icon="fa fa-usd"
                  ajax="false"
                  action="/pages/cobranca/list.xhtml?faces-redirect=true" onclick="PF('changePage').show()"/>
      <f:facet name="options">
        <h:panelGroup style="margin-top: 3px;" layout="block">
          <h:outputText value="Olá, #{sessionCtrl.username}     "
                        rendered="#{request.getUserPrincipal() != null}"/>
          <p:commandButton value="Logout" action="#{sessionCtrl.logout}"
                           icon="fa fa-sign-out"
                           rendered="#{request.getUserPrincipal() != null}"/>
        </h:panelGroup>
      </f:facet>
    </p:menubar>
  </h:form>
</h:body>
</html>
